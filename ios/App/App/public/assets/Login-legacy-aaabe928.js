System.register(["./index-legacy-4ec23ca4.js"],(function(e,a){"use strict";var l,t,n,o,u,s,d,i,r,c,p,v,h,f,m,g,_,w,b,y,x,V,k,C,I,P,T,U,j;return{setters:[e=>{l=e._,t=e.i,n=e.B,o=e.S,u=e.C,s=e.r,d=e.o,i=e.c,r=e.w,c=e.u,p=e.a,v=e.D,h=e.G,f=e.b,m=e.H,g=e.v,_=e.Q,w=e.f,b=e.I,y=e.e,x=e.R,V=e.T,k=e.J,C=e.U,I=e.V,P=e.g,T=e.O,U=e.P,j=e.t}],execute:function(){var a=document.createElement("style");a.textContent=".container[data-v-bb3d8374]{display:flex;flex-direction:column;height:100%;justify-content:center;align-items:center}.list-container[data-v-bb3d8374]{width:100%;max-width:400px}.error[data-v-bb3d8374]{color:red;text-align:center}\n",document.head.appendChild(a);const L={class:"container"},S={class:"error"};e("default",l({__name:"Login",setup(e){const a=t("axios"),l=n(),A=new o;u((async()=>{await A.create(),await A.get("token")&&l.push("/dashboard")}));const B=s(""),D=s(""),E=s(""),G=s([]),H=()=>{G.value=[];let e=!0;""!=B.value&&9==B.value.length&&9==B.value.charAt(0)||(G.value.push("The phone field is empty or does not have 9 digits or does not start with 9"),e=!1),""==D.value&&(G.value.push("The password field is empty"),e=!1),""!=E.value&&3==E.value.length||(G.value.push("The pin field is empty or does not have 3 digits"),e=!1),e&&a.post("/auth/login",{username:B.value,password:D.value,confirmation_code:E.value}).then((async e=>{if(console.log(e.data),e.data.access_token)try{await A.set("token",e.data.access_token),await A.set("phone_number",B.value),await A.set("pin",E.value),l.push("/dashboard")}catch(a){console.log(a)}}),(e=>{console.log(e),401!=e.response.status&&400!=e.response.status||G.value.push("Invalid credentials")}))};return(e,a)=>(d(),i(c(U),null,{default:r((()=>[p(c(m),null,{default:r((()=>[p(c(v),null,{default:r((()=>[p(c(h),null,{default:r((()=>[f("Login")])),_:1})])),_:1})])),_:1}),p(c(T),{fullscreen:!0,class:"ion-padding"},{default:r((()=>[g("div",L,[p(c(_),{class:"list-container"},{default:r((()=>[p(c(w),null,{default:r((()=>[p(c(b),{position:"floating"},{default:r((()=>[f("Phone")])),_:1}),p(c(y),{modelValue:B.value,"onUpdate:modelValue":a[0]||(a[0]=e=>B.value=e),type:"number"},null,8,["modelValue"])])),_:1}),p(c(w),null,{default:r((()=>[p(c(b),{position:"floating"},{default:r((()=>[f("Password")])),_:1}),p(c(y),{modelValue:D.value,"onUpdate:modelValue":a[1]||(a[1]=e=>D.value=e),type:"password"},null,8,["modelValue"])])),_:1}),p(c(w),null,{default:r((()=>[p(c(b),{position:"floating"},{default:r((()=>[f("PIN")])),_:1}),p(c(y),{modelValue:E.value,"onUpdate:modelValue":a[2]||(a[2]=e=>E.value=e),type:"password"},null,8,["modelValue"])])),_:1})])),_:1}),x(g("div",null,[(d(!0),k(I,null,C(G.value,(e=>(d(),k("p",S,j(e),1)))),256))],512),[[V,G.value.length>0]]),p(c(P),{expand:"block",onClick:H},{default:r((()=>[f("Create")])),_:1})])])),_:1})])),_:1}))}},[["__scopeId","data-v-bb3d8374"]]))}}}));
