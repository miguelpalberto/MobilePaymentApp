System.register(["./index-legacy-6e24c5a3.js","./index-legacy-6acb252d.js"],(function(e,a){"use strict";var l,t,n,o,u,s,d,i,c,r,p,v,m,f,h,g,_,x,y,w,V,k,b,C,j,z,I,O,P;return{setters:[e=>{l=e._,t=e.i,n=e.u,o=e.o,u=e.r,s=e.a,d=e.c,i=e.w,c=e.e,r=e.f,p=e.g,v=e.h,m=e.b,f=e.j,h=e.k,g=e.l,_=e.m,x=e.n,y=e.p,w=e.q,V=e.v,k=e.s,b=e.t,C=e.F,j=e.x,z=e.y,I=e.I,O=e.z},e=>{P=e.S}],execute:function(){var a=document.createElement("style");a.textContent=".container[data-v-9ae404c4]{display:flex;flex-direction:column;height:100%;justify-content:center;align-items:center}.list-container[data-v-9ae404c4]{width:100%;max-width:400px}.error[data-v-9ae404c4]{color:red;text-align:center}\n",document.head.appendChild(a);const U={class:"container"},L={class:"error"};e("default",l({__name:"Login",setup(e){const a=t("axios"),l=n(),S=new P;S.create(),o((()=>{S.get("token").then((e=>{e&&l.push("/dashboard")}))}));const q=u(""),A=u(""),E=u(""),F=u([]),N=()=>{F.value=[];let e=!0;""!=q.value&&9==q.value.length&&9==q.value.charAt(0)||(F.value.push("O campo telemovel está vazio ou não tem 9 digitos ou não começa por 9"),e=!1),""==A.value&&(F.value.push("O campo password está vazio"),e=!1),""!=E.value&&3==E.value.length||(F.value.push("O campo pin está vazio ou não tem 4 digitos"),e=!1),e&&a.post("http://localhost/taes_backend/public/api/auth/login",{username:q.value,password:A.value,confirmation_code:E.value}).then((e=>{console.log(e.data),e.data.access_token&&(S.set("token",e.data.access_token),l.push("/dashboard"))}),(e=>{console.log(e),401!=e.response.status&&400!=e.response.status||F.value.push("Credenciais inválidas")}))};return(e,a)=>(s(),d(c(I),null,{default:i((()=>[r(c(f),null,{default:i((()=>[r(c(p),null,{default:i((()=>[r(c(v),null,{default:i((()=>[m("Login")])),_:1})])),_:1})])),_:1}),r(c(z),{fullscreen:!0,class:"ion-padding"},{default:i((()=>[h("div",U,[r(c(g),{class:"list-container"},{default:i((()=>[r(c(_),null,{default:i((()=>[r(c(x),{position:"floating"},{default:i((()=>[m("Phone")])),_:1}),r(c(y),{modelValue:q.value,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value=e),type:"number"},null,8,["modelValue"])])),_:1}),r(c(_),null,{default:i((()=>[r(c(x),{position:"floating"},{default:i((()=>[m("Password")])),_:1}),r(c(y),{modelValue:A.value,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),type:"password"},null,8,["modelValue"])])),_:1}),r(c(_),null,{default:i((()=>[r(c(x),{position:"floating"},{default:i((()=>[m("PIN")])),_:1}),r(c(y),{modelValue:E.value,"onUpdate:modelValue":a[2]||(a[2]=e=>E.value=e),type:"password"},null,8,["modelValue"])])),_:1})])),_:1}),w(h("div",null,[(s(!0),k(C,null,b(F.value,(e=>(s(),k("p",L,O(e),1)))),256))],512),[[V,F.value.length>0]]),r(c(j),{expand:"block",onClick:N},{default:i((()=>[m("Create")])),_:1})])])),_:1})])),_:1}))}},[["__scopeId","data-v-9ae404c4"]]))}}}));
