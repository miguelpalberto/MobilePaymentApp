System.register(["./index-legacy-4ec23ca4.js","./AddContactModal.vue_vue_type_style_index_0_scoped_ca61ceab_lang-legacy-2d4833be.js"],(function(a,e){"use strict";var l,t,n,i,o,d,u,s,r,c,p,f,v,g,m,h,_,y,x,b,w,k,z,B,I,M,C,P,$,D,F,L,N,S,j,A,q,O,T,E,V,Z,U,G;return{setters:[a=>{l=a.d,t=a.r,n=a.o,i=a.c,o=a.w,d=a.a,u=a.u,s=a.I,r=a.b,c=a.e,p=a.f,f=a.g,v=a.h,g=a._,m=a.i,h=a.j,_=a.k,y=a.l,x=a.m,b=a.n,w=a.t,k=a.p,z=a.q,B=a.s,I=a.v,M=a.x,C=a.y,P=a.z,$=a.A,D=a.B,F=a.C,L=a.S,N=a.D,S=a.E,j=a.F,A=a.G,q=a.H,O=a.J,T=a.K,E=a.L,V=a.M,Z=a.N,U=a.O,G=a.P},null],execute:function(){var e=document.createElement("style");e.textContent="ion-modal[data-v-57c43089]{--height: 50%;--width: 90%;--border-radius: 16px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1)}ion-modal[data-v-57c43089]::part(backdrop){background:rgba(209,213,219);opacity:1}ion-modal ion-toolbar[data-v-57c43089]{--background: rgb(14 116 144);--color: white}.enter[data-v-57c43089]{margin-top:40px;margin-left:40px;margin-right:40px}.container[data-v-771df41f]{display:flex;justify-content:end;padding:50px}span[data-v-771df41f]{font-size:15px;font-weight:200}.transaction-amount[data-v-771df41f]{align-items:right}.transaction-title[data-v-771df41f]{font-weight:700;margin-right:10px}.transaction-info[data-v-771df41f]{display:flex;justify-content:space-between;align-items:center;width:100%}body[data-v-b4d9559e]{margin:0;padding:0;display:flex;flex-direction:column;min-height:100vh}main[data-v-b4d9559e]{flex:1}ion-card-title[data-v-b4d9559e]{font-size:18px}ion-card-header[data-v-b4d9559e]{padding:5px;width:100%}ion-card[data-v-b4d9559e]{width:100%;margin:0}.ion-card-img-container[data-v-b4d9559e]{min-height:105px;display:flex;justify-content:center;align-items:center}\n",document.head.appendChild(e);const H=l({__name:"ModalPin",props:{isOpen:{type:Boolean,default:!1}},emits:["checkPin"],setup(a,{emit:e}){const l=a,g=e,m=t(""),h=()=>{g("checkPin",m.value)};return(a,e)=>(n(),i(u(v),{"is-open":l.isOpen,"can-dismiss":!l.isOpen},{default:o((()=>[d(u(p),null,{default:o((()=>[d(u(s),{position:"floating"},{default:o((()=>[r("Pin")])),_:1}),d(u(c),{type:"password",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=a=>m.value=a)},null,8,["modelValue"])])),_:1}),d(u(f),{color:"medium",class:"enter",expand:"block",onClick:h},{default:o((()=>[r("Enter")])),_:1})])),_:1},8,["is-open","can-dismiss"]))}}),J=g(H,[["__scopeId","data-v-57c43089"]]),K={__name:"Balance",props:{phone:{type:String,required:!0}},setup(a){const e=m("axios"),l=a,s=t(""),c=h((()=>0==s.value?"No funds":`${new Intl.NumberFormat("pt",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(s.value)} €`)),p=()=>{e.get(`/vcard/${l.phone}`).then((a=>{console.log(a.data.data.balance),s.value=a.data.data.balance}))};let f=null;return _((()=>{f=setInterval((()=>{p()}),3e3),p()})),y((()=>{clearInterval(f)})),(a,e)=>(n(),i(u(z),null,{default:o((()=>[d(u(x),null,{default:o((()=>[d(u(b),{style:{"font-size":"18px"}},{default:o((()=>[r(w(c.value),1)])),_:1}),d(u(k),null,{default:o((()=>[r("Balance")])),_:1})])),_:1})])),_:1}))}},W={class:"transaction-info"},Q={class:"transaction-title"},R={class:"transaction-amount"},X=(a=>(C("data-v-771df41f"),a=a(),P(),a))((()=>I("br",null,null,-1))),Y=g({__name:"LastTransaction",props:{phone:{type:String,required:!0}},setup(a){const e=a,l=m("axios"),s=t(""),c=t(""),p=t(0),v=h((()=>p.value>0)),g=h((()=>`/transactions/${e.phone}`));return _((()=>{l.get(`vcards/${e.phone}/transactions/latest`).then((a=>{var e,l,t,n;console.log(a),s.value=null!==(e=null===(l=a.data.latestTransaction)||void 0===l?void 0:l.value)&&void 0!==e?e:"No transactions yet",c.value=null!==(t=null===(n=a.data.latestTransaction)||void 0===n?void 0:n.payment_reference)&&void 0!==t?t:"",p.value=a.data.total})).catch((a=>{console.log(a)}))})),(a,e)=>(n(),i(u(z),null,{default:o((()=>[d(u(x),null,{default:o((()=>[d(u(b),{style:{"font-size":"18px"}},{default:o((()=>[r("Last Transaction")])),_:1})])),_:1}),d(u(B),null,{default:o((()=>[I("div",W,[I("div",Q,[I("p",null,w(c.value),1)]),I("div",R,[I("p",null,w(s.value),1)])]),X,v.value?(n(),i(u(f),{key:0,"router-link":g.value,style:{width:"100%"}},{default:o((()=>[r("Show More")])),_:1},8,["router-link"])):M("",!0)])),_:1})])),_:1}))}},[["__scopeId","data-v-771df41f"]]),aa={__name:"PiggyBankBalance",props:{phone:{type:String,required:!0}},setup(a){const e=a,l=m("axios"),s=t(""),c=h((()=>null==s||0==s.value?"No balance":`${new Intl.NumberFormat("pt",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(s.value)} €`)),p=()=>{l.get(`/vcard/${e.phone}`).then((a=>{s.value=a.data.data.piggy_bank_balance}))};let f=null;return _((()=>{f=setInterval((()=>{p()}),3e3),p()})),y((()=>{clearInterval(f)})),(a,e)=>(n(),i(u(z),null,{default:o((()=>[d(u(x),null,{default:o((()=>[d(u(b),{style:{"font-size":"18px"}},{default:o((()=>[r(w(c.value),1)])),_:1}),d(u(k),null,{default:o((()=>[r("Piggy Bank")])),_:1})])),_:1})])),_:1}))}},ea=a=>(C("data-v-b4d9559e"),a=a(),P(),a),la={class:""},ta={key:0},na={key:1},ia=ea((()=>I("div",{class:"ion-card-img-container"},[I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"75",height:"75",fill:"currentColor",class:"bi bi-send",viewBox:"0 0 16 16"},[I("path",{d:"M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"})])],-1))),oa=ea((()=>I("div",{class:"ion-card-img-container"},[I("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",fill:"currentColor",class:"bi bi-piggy-bank",viewBox:"0 0 16 16"},[I("path",{d:"M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z"}),I("path",{"fill-rule":"evenodd",d:"M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z"})])],-1)));a("default",g({__name:"Dashboard",setup(a){const e=m("axios"),l=$(),s=t(l.params.phoneNumber),c=t(!1),p=t(!1),v=D();h((()=>`/transactions/${s.value}`));const g=h((()=>`/mydetails/${s.value}`)),_=h((()=>`/piggyBank/${s.value}`)),y=h((()=>"/mycontacts"));F((async()=>{const a=new L;await a.create();const l=await a.get("token");if(l){e.defaults.headers.common.Authorization="Bearer "+l;const t=await a.get("phone_number");console.log("phone number",t),t&&(s.value=t),c.value=!1}else v.push("/login")}));const k=async a=>{const e=new L;await e.create(),await e.get("pin")==a&&(p.value=!0,console.log("pin correct"))};return(a,e)=>(n(),i(u(G),null,{default:o((()=>[d(u(q),null,{default:o((()=>[d(u(N),null,{default:o((()=>[d(u(S),{slot:"start"},{default:o((()=>[d(u(j))])),_:1}),d(u(A),null,{default:o((()=>[r("Dashboard")])),_:1})])),_:1})])),_:1}),d(u(U),null,{default:o((()=>[I("div",la,[c.value||!p.value?(n(),O("div",ta,[d(u(T))])):(n(),O("div",na,[d(u(E),null,{default:o((()=>[d(u(V),null,{default:o((()=>[d(u(Z),{size:"12"},{default:o((()=>[I("div",null,[r(" Welcome, "+w(s.value),1),I("div",null,[d(u(f),{"router-link":g.value},{default:o((()=>[r("User")])),_:1},8,["router-link"])])])])),_:1})])),_:1}),d(u(V),null,{default:o((()=>[d(u(Z),{size:"6"},{default:o((()=>[d(K,{phone:s.value},null,8,["phone"])])),_:1}),d(u(Z),{size:"6"},{default:o((()=>[d(aa,{phone:s.value},null,8,["phone"])])),_:1})])),_:1}),d(u(V),null,{default:o((()=>[d(u(Z),{size:"6"},{default:o((()=>[d(u(f),{"router-link":y.value,style:{width:"100%"},fill:"clear"},{default:o((()=>[d(u(z),null,{default:o((()=>[ia,d(u(x),null,{default:o((()=>[d(u(b),null,{default:o((()=>[r("Send Money")])),_:1})])),_:1})])),_:1})])),_:1},8,["router-link"])])),_:1}),d(u(Z),{size:"6"},{default:o((()=>[d(u(f),{"router-link":_.value,fill:"clear",style:{width:"100%"}},{default:o((()=>[d(u(z),null,{default:o((()=>[oa,d(u(x),null,{default:o((()=>[d(u(b),null,{default:o((()=>[r("Piggy Bank")])),_:1})])),_:1})])),_:1})])),_:1},8,["router-link"])])),_:1})])),_:1}),d(u(V),null,{default:o((()=>[d(u(Z),{size:"12"},{default:o((()=>[d(Y,{phone:s.value},null,8,["phone"])])),_:1})])),_:1})])),_:1})]))]),d(J,{"is-open":!p.value,onCheckPin:k},null,8,["is-open"])])),_:1})])),_:1}))}},[["__scopeId","data-v-b4d9559e"]]))}}}));
